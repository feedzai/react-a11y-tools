"use strict";(self.webpackChunkreact_a11y_tools_docs=self.webpackChunkreact_a11y_tools_docs||[]).push([[561],{1478:function(e,t,n){n.d(t,{b:function(){return R},j:function(){return A}});var a=n(7378),r=n(169),o="focusManager__button_2aGq",l="focusManager__popover_2_aJ",i="focusManager__container_pFOm",s="focusManager__body_2Zrj",c="focusManager__header_gyqP",u="focusManager__header__title_2wWT",d="focusManager__header__button_1vK5",m="focusManager__navigation_3WEL",p="focusManager__navigation__list_1r8m",v="focusManager__link_nFMd",h="focusManager__footer_3gEt",k="focusManager__footer__wrapper_1WwV",f="focusManager__footer__input_1Mfg",g="focusManager__footer__icon_rupH",N="rover__page_38Fb",_="rover__button_2drR",E="rover__sidenav_3Pm2",b="rover__sidenav__label_2LTu",y="rover__sidenav__list_32qq",w="rover__sidenav__link_Z5EL",C="rover__sidenav__counter_1mI9",M="rover__sidenav__left_25NY",x="rover__sidenav__icon_3tXx",B="rover__sidenav__link-text_3ZT3",R=function(e){var t=(0,a.useState)(!1),n=t[0],N=t[1];return a.createElement("div",null,a.createElement("button",{className:o,type:"button",onClick:function(){return N(!0)}},"Show Menu"),n&&a.createElement(r.IK,e,a.createElement("div",{className:l,id:"popover",tabIndex:-1},a.createElement("div",{className:i,role:"dialog","aria-labelledby":"popover-title"},a.createElement("div",{className:s},a.createElement("header",{className:c},a.createElement("h4",{className:u,id:"popover-title"},"Menu"),a.createElement("button",{type:"button",className:d,onClick:function(){return N(!1)}},"Close")),a.createElement("nav",{className:m,"aria-label":"Main"},a.createElement("ul",{className:p},a.createElement("li",null,a.createElement("a",{className:v,href:"#0"},a.createElement("span",null,"Home"),a.createElement("span",null,"35"))),a.createElement("li",null,a.createElement("a",{className:v,href:"#0"},a.createElement("span",null,"Trending"),a.createElement("span",null,"17"))),a.createElement("li",null,a.createElement("a",{className:v,href:"#0"},a.createElement("span",null,"Subscriptions"),a.createElement("span",null,"12"))),a.createElement("li",null,a.createElement("a",{className:v,href:"#0"},a.createElement("span",null,"Library"),a.createElement("span",null,"24"))),a.createElement("li",null,a.createElement("a",{className:v,href:"#0"},a.createElement("span",null,"History"),a.createElement("span",null,"18"))))),a.createElement("footer",{className:h},a.createElement("div",{className:k},a.createElement("input",{className:f,type:"search",placeholder:"Search...","aria-label":"Search"}),a.createElement("button",{className:g},a.createElement("svg",{className:"icon",viewBox:"0 0 24 24"},a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:"10",strokeWidth:"2"},a.createElement("path",{d:"M22 22L15.656 15.656"}),a.createElement("circle",{cx:"10",cy:"10",r:"8"})))))))))))},P=n(348),T=n(1301),L=function(e){var t=e.disabled,n=e.children,r=e.onClick,o=(0,a.useRef)(null),l=(0,T.sZ)(o,t),i=l[0],s=l[1],c=l[2],u=l[3];return(0,T.KK)(o,s),a.createElement("button",{className:w,ref:o,onKeyDown:c,onClick:function(){u(),(0,P._N)(r)},tabIndex:i,disabled:t},n)},A=function(){return a.createElement("div",{className:N},a.createElement("button",{className:_,type:"button"},"A Button"),a.createElement(T.pf,{direction:"vertical"},a.createElement("nav",{className:E,id:"sidenav","data-testid":"fdz-js-roving-tabindex-sidenav"},a.createElement("span",{className:b},"Menu"),a.createElement("ul",{className:y},a.createElement("li",null,a.createElement(L,{disabled:!1,onClick:function(){return console.log("Button One clicked")}},a.createElement("div",{className:M},a.createElement("svg",{className:x,viewBox:"0 0 16 16","aria-hidden":"true"},a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("polyline",{points:"10.5,3.5 10.5,9.5 8,7.5 5.5,9.5 5.5,3.5"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"15",height:"3"}),a.createElement("polyline",{points:"14.5,5.5 14.5,14.5 1.5,14.5 1.5,5.5"}))),a.createElement("span",{className:B},"Orders")),a.createElement("span",{className:C},"10"))),a.createElement("li",null,a.createElement(L,{disabled:!1,onClick:function(){return console.log("Button Two clicked")}},a.createElement("div",{className:M},a.createElement("svg",{className:x,viewBox:"0 0 16 16","aria-hidden":"true"},a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",d:"M14.328,2.672 c-1.562-1.562-4.095-1.562-5.657,0C8.391,2.952,8.18,3.27,8,3.601c-0.18-0.331-0.391-0.65-0.672-0.93 c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L8,14.5l6.328-6.172C15.891,6.766,15.891,4.234,14.328,2.672z"})),a.createElement("span",{className:B},"Wishlist")),a.createElement("span",{className:C},"12"))),a.createElement("li",null,a.createElement(L,{disabled:!1,onClick:function(){return console.log("Button Three clicked")}},a.createElement("div",{className:M},a.createElement("svg",{className:x,viewBox:"0 0 16 16","aria-hidden":"true"},a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("polyline",{points:" 15.5,7.5 8,0.5 0.5,7.5"}),a.createElement("polyline",{points:"2.5,8.5 2.5,15.5 6.5,15.5 6.5,11.5 9.5,11.5 9.5,15.5 13.5,15.5 13.5,8.5"}))),a.createElement("span",{className:B},"Addresses")))),a.createElement("li",null,a.createElement(L,{disabled:!1,onClick:function(){return console.log("Button Four clicked")}},a.createElement("div",{className:M},a.createElement("svg",{className:x,viewBox:"0 0 16 16","aria-hidden":"true"},a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("line",{x1:"0.5",y1:"4.5",x2:"15.5",y2:"4.5"}),a.createElement("path",{d:"M5.5,12.5h-4 c-0.552,0-1-0.448-1-1v-10c0-0.552,0.448-1,1-1h13c0.552,0,1,0.448,1,1v5"}),a.createElement("polygon",{points:"11,15 8.5,15.5 9,13 13.5,8.5 15.5,10.5 "}))),a.createElement("span",{className:B},"Payment Methods"))))),a.createElement("span",{className:b},"Other"),a.createElement("ul",{className:y},a.createElement("li",null,a.createElement(L,{disabled:!1,onClick:function(){return console.log("Button Five clicked")}},a.createElement("div",{className:M},a.createElement("svg",{className:x,viewBox:"0 0 16 16","aria-hidden":"true"},a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M4.318,9A5,5,0,0,0,1.5,13.5h0s2,2,6.5,2,6.5-2,6.5-2h0A5,5,0,0,0,11.681,9"}),a.createElement("path",{d:"M11.5,4c0,1.933-1.567,4.5-3.5,4.5S4.5,5.933,4.5,4a3.5,3.5,0,0,1,7,0Z"}))),a.createElement("span",{className:B},"Profile Settings")))),a.createElement("li",null,a.createElement(L,{disabled:!1,onClick:function(){return console.log("Button Six clicked")}},a.createElement("div",{className:M},a.createElement("svg",{className:x,viewBox:"0 0 16 16","aria-hidden":"true"},a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M6.5,5.5v-3 c0-0.552,0.448-1,1-1h7c0.552,0,1,0.448,1,1v12c0,0.552-0.448,1-1,1h-7c-0.552,0-1-0.448-1-1v-3"}),a.createElement("line",{x1:"11.5",y1:"8.5",x2:"0.5",y2:"8.5"}),a.createElement("polyline",{points:"3.5,5.5 0.5,8.5 3.5,11.5"}))),a.createElement("span",{className:B},"Log Out"))))))),a.createElement("button",{className:_,type:"button"},"Another Button"))}},3742:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return m},default:function(){return v}});var a=n(7462),r=n(3366),o=(n(7378),n(3905)),l=n(1478),i=n(9951),s=["components"],c={sidebar_position:2,title:"The Rover"},u=void 0,d={unversionedId:"manage-focus/the-rover",id:"manage-focus/the-rover",isDocsHomePage:!1,title:"The Rover",description:"An accessibility pattern for a grouped set of inputs",source:"@site/docs/manage-focus/the-rover.mdx",sourceDirName:"manage-focus",slug:"/manage-focus/the-rover",permalink:"/react-a11y-tools/docs/manage-focus/the-rover",editUrl:"https://github.com/feedzai/react-a11y-tools/docs/manage-focus/the-rover.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"The Rover"},sidebar:"tutorialSidebar",previous:{title:"Focus Manager",permalink:"/react-a11y-tools/docs/manage-focus/focus-manager"},next:{title:"Keyboard Only",permalink:"/react-a11y-tools/docs/testing/keyboard-only"}},m=[{value:"Development Instructions",id:"development-instructions",children:[{value:"1. Wrap each roving tabindex group in a <code>RoverProvider</code>",id:"1-wrap-each-roving-tabindex-group-in-a-roverprovider",children:[],level:4},{value:"2. Wrap each focusable element",id:"2-wrap-each-focusable-element",children:[],level:4},{value:"3. Place them inside your <code>RoverProvider</code> structure",id:"3-place-them-inside-your-roverprovider-structure",children:[],level:4}],level:3},{value:"Differences with <code>Focus Manager</code>",id:"differences-with-focus-manager",children:[],level:3},{value:"Props",id:"props",children:[{value:"Rover Provider",id:"rover-provider",children:[],level:4}],level:3}],p={toc:m};function v(e){var t=e.components,n=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(i.QE,{mdxType:"Subtitle"},"An accessibility pattern for a grouped set of inputs"),(0,o.kt)(i.Uc,{mdxType:"BrowserWindow"},(0,o.kt)(l.j,{mdxType:"DemoRovingTabIndex"})),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"How to")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Use the tab key to navigate to the Menu."),(0,o.kt)("li",{parentName:"ul"},"Then, use the ",(0,o.kt)("inlineCode",{parentName:"li"},"ArrowUp")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"ArrowDown")," keys to go through each option."),(0,o.kt)("li",{parentName:"ul"},"Try pressing ",(0,o.kt)("inlineCode",{parentName:"li"},"Home")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"End")," to jump right to the first or last elements on the group."),(0,o.kt)("li",{parentName:"ul"},"Press ",(0,o.kt)("inlineCode",{parentName:"li"},"tab")," (or ",(0,o.kt)("inlineCode",{parentName:"li"},"shift+tab"),") again to exit.")))),(0,o.kt)("h3",{id:"development-instructions"},"Development Instructions"),(0,o.kt)("h4",{id:"1-wrap-each-roving-tabindex-group-in-a-roverprovider"},"1. Wrap each roving tabindex group in a ",(0,o.kt)("inlineCode",{parentName:"h4"},"RoverProvider")),(0,o.kt)("p",null,"You can nest roving tabindex components in other DOM elements or React components."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"<RoverProvider>\n    {..content here}\n</RoverProvider>\n")),(0,o.kt)("p",null,'You can also choose the direction of the navigation.\nIt can either be "vertical" (default) or "horizontal".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'<RoverProvider direction="horizontal">\n    {..content here}\n</RoverProvider>\n')),(0,o.kt)("p",null,'Choosing between "vertical" and "horizontal" implies you can use:'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"horizontal"),' - "ArrowLeft" and "ArrowRight" keys'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"vertical"),' - "ArrowUp" and "ArrowDown"'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Home")," key to go to the first element"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"End")," key to go to the last element")),(0,o.kt)("h4",{id:"2-wrap-each-focusable-element"},"2. Wrap each focusable element"),(0,o.kt)("p",null,"For composition, try to identify which elements are the ones that are going to be affected by the ",(0,o.kt)("inlineCode",{parentName:"p"},"RoverProvider"),".\nFor each one of those, wrap them with your own component and use the ",(0,o.kt)("inlineCode",{parentName:"p"},"useRover")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"useFocus")," hooks."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'const MenuButton = ({ disabled = false, children }) => {\n    const buttonRef = useRef(null);\n\n    const [tabIndex, focused, handleKeyDown, handleClick] = useRover(buttonRef, disabled);\n\n    useFocus(focused, buttonRef);\n\n    function onKeyDown(event) {\n        handleKeyDown(event);\n        yourOwnFunctionToDoWhatever(event);\n    }\n\n    function onClick(event) {\n        handleClick(event);\n        yourOwnFunctionToDoWhatever(event);\n    }\n\n    return (\n        <button\n            ref={ref}\n            type="button"\n            tabIndex={tabIndex}\n            disabled={disabled}\n            onKeyDown={handleKeyDown}\n            onClick={onClick}\n        >\n            {children}\n        </button>\n    );\n};\n')),(0,o.kt)("h4",{id:"3-place-them-inside-your-roverprovider-structure"},"3. Place them inside your ",(0,o.kt)("inlineCode",{parentName:"h4"},"RoverProvider")," structure"),(0,o.kt)("p",null,"Since ",(0,o.kt)("inlineCode",{parentName:"p"},"RovingTabIndex")," relies on React Context, there's no need to have the buttons all as direct children of the provider.\nYou can nest as deep as you'd like and it will work as well \ud83d\ude42"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'<RoverProvider direction="horizontal">\n    <MenuButton>First Button</MenuButton>\n    <MenuButton disabled>Second Button</MenuButton>\n    <ul>\n        <li><MenuButton>Another Button</MenuButton>\n        <li><MenuButton>Another Button</MenuButton>\n        <li><MenuButton>Another Button</MenuButton>\n        <li><MenuButton>Another Button</MenuButton>\n    </ul>\n</RoverProvider>\n')),(0,o.kt)("h3",{id:"differences-with-focus-manager"},"Differences with ",(0,o.kt)("inlineCode",{parentName:"h3"},"Focus Manager")),(0,o.kt)("p",null,"Both are made to deal with focus and navigation but do it in different ways and for different scenarios:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"FocusManager")," can, if necessary, scope the focus inside a group and allows the user to press the ",(0,o.kt)("inlineCode",{parentName:"p"},"tab"),' key to move to the next "tabbable" element (or ',(0,o.kt)("inlineCode",{parentName:"p"},"shift+tab")," to move to the previous)."),(0,o.kt)("p",{parentName:"li"},"\ud83d\udca1 Tip: Use it for dealing with interface elements that require focus control, like popovers, modals and side menus."))),(0,o.kt)("br",null),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"RoverProvider")," can also manage focus inside a group but, instead of using the ",(0,o.kt)("inlineCode",{parentName:"p"},"tab")," key to move\nback and forth between elements, it uses navigation keys (",(0,o.kt)("inlineCode",{parentName:"p"},"ArrowUp"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"ArrowDown"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"ArrowLeft")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"ArrowRight"),")\nto do that."),(0,o.kt)("p",{parentName:"li"},"It also makes the other group's elements unable to receive focus using the ",(0,o.kt)("inlineCode",{parentName:"p"},"tab")," key since it applies the negative ",(0,o.kt)("inlineCode",{parentName:"p"},"tabindex")," to the components that are not currently selected."),(0,o.kt)("p",{parentName:"li"},"\ud83d\udca1 Tip: Use it for dealing with interface elements that require selection, like a custom select element or a navigation menu. (Still, you should try to use the native HTML elements)."))),(0,o.kt)("h3",{id:"props"},"Props"),(0,o.kt)("h4",{id:"rover-provider"},"Rover Provider"),(0,o.kt)(i._A,{name:"Provider",mdxType:"PropsTable"}))}v.isMDXComponent=!0}}]);